<html>
	<head>
		<script type="application/javascript">
			function draw() {
				var canvas = document.getElementById("canvas");
				if (canvas.getContext) {
					var ctx = canvas.getContext("2d");

					// Draw border
					ctx.beginPath();
					ctx.moveTo(0, 0);
					ctx.lineTo(500, 0);
					ctx.lineTo(500, 500);
					ctx.lineTo(0, 500);
					ctx.closePath();
					ctx.stroke();

					drawF(7);
				}
				// Recursive draw
				function drawF(step) {
					if (step > 0) {
						step = step - 1;
						ctx.save();
						ctx.save();
						ctx.transform(0, 0.5, -0.5, 0, 250, 0);
						drawF(step);
						ctx.restore();
						ctx.transform(0.5, 0, 0, 0.5, 0, 250);
						drawF(step);
						ctx.restore();
						ctx.transform(0.5, 0, 0, 0.5, 250, 250);
						drawF(step);
					} else drawT();
				}

				function drawT() {
					ctx.beginPath();
					ctx.moveTo(0, 0);
					ctx.lineTo(250, 0);
					ctx.lineTo(500, 500);
					ctx.lineTo(0, 500);
					ctx.lineTo(0, 0);
					ctx.closePath();
					ctx.fill();
				}
			}
		</script>
	</head>
	<body onload="draw();">
		<h1>Sierpinski triangle</h1>
		<canvas id="canvas" width="500" height="500"></canvas>
	</body>
</html>
